{% extends "::base.html.twig" %}


	{% block content %}
		<div class="row">
			<div class="col-lg-3">
				<div class="well">
					<form action="{{ path('ath_cours_add') }}" method="post" {{ form_enctype(form) }}>
						{# Les erreurs générales du formulaire. #}
						{{ form_errors(form) }}
						<div>
							{{ form_label(form.name, "Nom du cours") }}
							{{ form_errors(form.name) }}
							{{ form_widget(form.name) }}
						</div>
						<div>
							{{ form_label(form.file, "Fichier") }}
							{{ form_errors(form.file) }}
							{{ form_widget(form.file) }}
						</div>
						{{ form_rest(form) }}
		    			<input type="submit" class="btn btn-primary" />
		  			</form>
				</div>
				
				{% for flashMessage in app.session.flashbag.get('notice') %}
    				<div class="flash-notice">
        				{{ flashMessage }}
    				</div>
				{% endfor %}
			</div>
			<div class="col-lg-6">
				<h1>Cours</h1>
				<table>
    				{% for cours in listeCours %}
        			<tr>
        				<td>
        					<a href="{{ asset(cours.path) }}">{{ cours.name }}</a>
        				</td>
        				{% if is_granted("ROLE_PROFESSOR") %}
							<td>
        				 		<a href="{{ path('ath_cours_del',{id: cours.id}) }}">
        							<i class="icon icon-trash"></i>
        						</a>
        					</td>
        				{% endif %}
        			</tr>
    				{% endfor %}
				</table>
			</div>
		</div>
		{% endblock content %}
