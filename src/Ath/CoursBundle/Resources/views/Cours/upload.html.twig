{% extends "AthCoursBundle::layout.html.twig" %}

{% block breadcrumb %}
<ol class="breadcrumb">
	<li><a href="/">Home</a></li>
	<li>Cours</li>
	<li>{{ discipline }}</li>
</ol>
{% endblock breadcrumb %}
{% block tabPaneCours %}
			<div class="col-sm-5">
				<h1>Cours</h1>
				<table>
    				{% for cours in listeCours %}
        			<tr>
        				<td>
        					<a href="{{ asset(cours.path) }}">{{ cours.name }}</a>
        				</td>
        				{% if is_granted("ROLE_PROFESSOR") %}
							<td>
        				 		<a href="{{ path('ath_cours_del',{id: cours.id}) }}">
        							<span class="glyphicon glyphicon-trash"/>
        						</a>
        					</td>
        				{% endif %}
        			</tr>
    				{% endfor %}
				</table>
			</div>
			{% if is_granted("ROLE_PROFESSOR") %}
			<div class="col-sm-5">
				<div class="well">
					<form action="{{ path('ath_cours_add') }}" method="post" {{ form_enctype(form) }}>
						{# Les erreurs générales du formulaire. #}
						{{ form_errors(form) }}
						<div>
							{{ form_label(form.name, "Nom du cours") }}
							{{ form_errors(form.name) }}
							{{ form_widget(form.name) }}
						</div>
						<div>
							{{ form_label(form.file, "Fichier") }}
							{{ form_errors(form.file) }}
							{{ form_widget(form.file) }}
						</div>
						{{ form_rest(form) }}
              <input type="hidden" name="classe_id" value="{{classe.id}}" />
		    			<input type="submit" class="btn btn-primary" />
		  			</form>
				</div>

				{% for flashMessage in app.session.flashbag.get('notice') %}
    				<div class="flash-notice">
        				{{ flashMessage }}
    				</div>
				{% endfor %}
			</div>
			{% endif %}
{% endblock tabPaneCours %}
{% block tabPaneExercices %}
		<p>Pour se rendre aux exercices, cliquez <a href="{{path('ath_exercise_index')}}">ici</a>.</p>
{% endblock tabPaneExercices %}
